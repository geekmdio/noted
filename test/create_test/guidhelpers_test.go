package create_test

import (
	"testing"
		"github.com/google/uuid"
	"github.com/geekmdio/noted/pkg/uuidHelper"
)

func TestGenerateGuidStringCanBeParsedAsUuid(t *testing.T) {
	myGuidString := uuidHelper.GenerateGuidString()
	_, err := uuid.Parse(myGuidString)
	if err != nil {
		t.Errorf("There was an error processing the guid and it is likely bad: %f", err)
	}
}

func TestGenerateGuidStringWhenParsedReturnsSameValue(t *testing.T) {
	myGuidString := uuidHelper.GenerateGuidString()
	uuid, _ := uuid.Parse(myGuidString)
	same := uuid.String() == myGuidString
	if !same {
		t.Errorf("The string generated by the GenerateGuidString function doesn't match that returned by the uuid.Parse function")
	}
}

func TestGenerateGuidThrowingAnError(t *testing.T) {
	myGuidString := uuidHelper.XXX_GenerateGuidStringThrowsError()
	uuid, _ := uuid.Parse(myGuidString)
	same := uuid.String() == myGuidString
	if !same {
		t.Errorf("The string generated by the GenerateGuidString function doesn't match that returned by the uuid.Parse function")
	}
}